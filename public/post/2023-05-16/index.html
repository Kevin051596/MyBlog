<!DOCTYPE html>
<style type="text/css">
    .view-bar{
        width: 0;
        height: 5px;
        background-color: #5ce1e6;
    }
    .default{
        position: relative;
        margin-top: -20px;
    }
    .action{
        position: fixed;
        top:0;
        z-index: 10;
    }
</style>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <meta property="og:site_name" content="MonsterYU Blog">
    <meta property="og:type" content="article">

    
    <meta property="og:image" content="/img/test6.jpg">
    <meta property="twitter:image" content="/img/test6.jpg" />
    

    
    <meta name="title" content="Selenium 隨筆紀錄" />
    <meta property="og:title" content="Selenium 隨筆紀錄" />
    <meta property="twitter:title" content="Selenium 隨筆紀錄" />
    

    
    <meta name="description" content="Selenium is a powerful Python package that enables web automation and data extraction. With its intuitive API and integration with popular browsers, such as Chrome and Firefox, Selenium allows developers to simulate browser behavior, automate tasks, and extract data from web pages. It supports various web rendering engines and can handle dynamic content generated by JavaScript. Whether it&#39;s web testing, web scraping, or automating repetitive tasks, Selenium provides a reliable and versatile solution for web-related automation needs.">
    <meta property="og:description" content="Selenium is a powerful Python package that enables web automation and data extraction. With its intuitive API and integration with popular browsers, such as Chrome and Firefox, Selenium allows developers to simulate browser behavior, automate tasks, and extract data from web pages. It supports various web rendering engines and can handle dynamic content generated by JavaScript. Whether it&#39;s web testing, web scraping, or automating repetitive tasks, Selenium provides a reliable and versatile solution for web-related automation needs." />
    <meta property="twitter:description" content="Selenium is a powerful Python package that enables web automation and data extraction. With its intuitive API and integration with popular browsers, such as Chrome and Firefox, Selenium allows developers to simulate browser behavior, automate tasks, and extract data from web pages. It supports various web rendering engines and can handle dynamic content generated by JavaScript. Whether it&#39;s web testing, web scraping, or automating repetitive tasks, Selenium provides a reliable and versatile solution for web-related automation needs." />
    

    
    <meta property="twitter:card" content="summary" />
    
    

    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/element/selfie.gif">

    <title>Selenium 隨筆紀錄 | 林鈺凱的博客 | MonsterYU Blog</title>

    <link rel="canonical" href="/post/2023-05-16/">

    
    
    
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    
    <link rel="stylesheet" href="/css/newCleab.css">

    
    <link rel="stylesheet" href="/css/zss.css">

    
    <link rel="stylesheet" href="/css/font-awesome.all.min.css">

    
    

    
    <script src="/js/jquery.min.js"></script>

    
    <script src="/js/bootstrap.min.js"></script>

    
    <script src="/js/hux-blog.min.js"></script>

    
    <script src="/js/lazysizes.min.js"></script>

    
    

</head>






<nav class="navbar navbar-default navbar-custom navbar-fixed-top">

    <div class="container-fluid">
        
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">MonsterYU Blog</a>
        </div>

        
        
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">All Posts</a>
                    </li>
                    
                        
                        <li>
                            <a href="/categories/tech/">tech</a>
                        </li>
                        
                    
                    
		    
                        <li><a href="/archive//">ARCHIVE</a></li>
                    
                        <li><a href="/notes//">NOTES</a></li>
                    
                        <li><a href="/about//">ABOUT</a></li>
                    
		            <li>
                        <a href="/search"><i class="fa fa-search"></i></a>
		           </li>
                </ul>
            </div>
        </div>
        
    </div>
    
</nav>
<script>
    
    
    
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        
            $navbar.className = " ";
            
            setTimeout(function(){
                
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>




<style type="text/css">
    header.intro-header{
        position: relative;
        background: none;
        overflow: hidden;
    }
    header.intro-header::before{
        content: '';
        position: absolute;
        top: 0; left:0; right: 0; bottom: 0;
        background-image: url('/img/test6.jpg');
        background-size: cover;
        background-position: center;
        transition: all .5s;
        transition-timing-function: cubic-bezier(0.1, 0.3, 1.0, 0.2);
    }
    header.intro-header:hover::before{
        transform: scale(1.2);
        filter: blur(5px);
    }
    .post-heading{
        text-shadow: 3px 3px 5px rgba(0, 0, 0, 1);
    }
</style>

<header class="intro-header" >

    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/tags/selenium" title="selenium">
                            selenium
                        </a>
                        
                        <a class="tag" href="/tags/python" title="python">
                            python
                        </a>
                        
                    </div>
                    <h1>Selenium 隨筆紀錄</h1>
                    <h2 class="subheading"></h2>
                    <span class="meta">
                        
                            Posted by 
                            
                                     &#34;&#34;
                             
                            on 
                            Monday, June 4, 2018
                            
                            
                            
                            
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>


<div class="view-bar default"></div>



<article>
    <div class="container">
        <div class="row">

            
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                
                
               
                <h3 id="設置超時限制器">設置超時限制器</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Python" data-lang="Python"><span style="display:flex;"><span>browser<span style="color:#ff79c6">.</span>set_page_load_timeout(<span style="color:#bd93f9">20</span>)
</span></span><span style="display:flex;"><span>browser<span style="color:#ff79c6">.</span>set_script_timeout(<span style="color:#bd93f9">20</span>)
</span></span></code></pre></div><h3 id="隱藏瀏覽器日誌">隱藏瀏覽器日誌</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Python" data-lang="Python"><span style="display:flex;"><span>edge_options <span style="color:#ff79c6">=</span> webdriver<span style="color:#ff79c6">.</span>EdgeOptions()
</span></span><span style="display:flex;"><span>edge_options<span style="color:#ff79c6">.</span>add_argument(<span style="color:#f1fa8c">&#39;-disable-gpu&#39;</span>)
</span></span><span style="display:flex;"><span>edge_options<span style="color:#ff79c6">.</span>add_argument(<span style="color:#f1fa8c">&#39;log-level=3&#39;</span>)
</span></span><span style="display:flex;"><span>browser <span style="color:#ff79c6">=</span> webdriver<span style="color:#ff79c6">.</span>Edge(<span style="color:#f1fa8c">&#34;python/msedgedriver.exe&#34;</span>, options<span style="color:#ff79c6">=</span>edge_options)
</span></span></code></pre></div><h3 id="瀏覽器頁面加載偵測">瀏覽器頁面加載偵測</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Python" data-lang="Python"><span style="display:flex;"><span><span style="color:#ff79c6">from</span> selenium.webdriver.common.by <span style="color:#ff79c6">import</span> By
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">from</span> selenium.webdriver.support.wait <span style="color:#ff79c6">import</span> WebDriverWait
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">from</span> selenium.webdriver.support <span style="color:#ff79c6">import</span> expected_conditions <span style="color:#ff79c6">as</span> EC
</span></span><span style="display:flex;"><span>WebDriverWait(browser, <span style="color:#bd93f9">30</span>)<span style="color:#ff79c6">.</span>until(EC<span style="color:#ff79c6">.</span>presence_of_element_located((By<span style="color:#ff79c6">.</span>CLASS_NAME, <span style="color:#f1fa8c">&#39;image&#39;</span>)))
</span></span></code></pre></div><h3 id="破解反爬蟲網頁">破解反爬蟲網頁</h3>
<p>我們可以先用正常手段進入後，查詢該 user agent 資訊，並將該資訊用於爬蟲的使用者資訊，以這個 user agent 資訊破解反爬蟲檢驗</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Python" data-lang="Python"><span style="display:flex;"><span>user_agent <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36 Edg/108.0.1462.42&#39;</span>
</span></span><span style="display:flex;"><span>opt <span style="color:#ff79c6">=</span> webdriver<span style="color:#ff79c6">.</span>EdgeOptions()
</span></span><span style="display:flex;"><span>opt<span style="color:#ff79c6">.</span>add_argument(<span style="color:#f1fa8c">&#39;--user-agent=</span><span style="color:#f1fa8c">%s</span><span style="color:#f1fa8c">&#39;</span> <span style="color:#ff79c6">%</span> user_agent)
</span></span><span style="display:flex;"><span>browser <span style="color:#ff79c6">=</span> webdriver<span style="color:#ff79c6">.</span>Edge(executable_path<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;msedgedriver.exe&#34;</span>, options<span style="color:#ff79c6">=</span>opt)
</span></span></code></pre></div><h3 id="資料來源">資料來源</h3>


                

                
                <hr>
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/post/2023-05-22/" data-toggle="tooltip" data-placement="top" title="複雜度 Complexity">&larr;
                            Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/post/2023-05-23/" data-toggle="tooltip" data-placement="top" title="C&#43;&#43; String Operation">Next
                            Post &rarr;</a>
                    </li>
                    
                </ul>
                

                



            </div>

            
            
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">CATALOG</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
            

            
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                
                
                <section>
                    <hr class="hidden-sm hidden-xs">
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                        
                        
                        
                        <a href="/tags/algorithm" title="algorithm">
                            algorithm
                        </a>
                        
                        
                        
                        <a href="/tags/back-end" title="back-end">
                            back-end
                        </a>
                        
                        
                        
                        <a href="/tags/c&#43;&#43;-stl" title="c&#43;&#43;-stl">
                            c&#43;&#43;-stl
                        </a>
                        
                        
                        
                        <a href="/tags/c/c&#43;&#43;" title="c/c&#43;&#43;">
                            c/c&#43;&#43;
                        </a>
                        
                        
                        
                        <a href="/tags/database" title="database">
                            database
                        </a>
                        
                        
                        
                        <a href="/tags/firebase" title="firebase">
                            firebase
                        </a>
                        
                        
                        
                        <a href="/tags/front-end" title="front-end">
                            front-end
                        </a>
                        
                        
                        
                        <a href="/tags/git" title="git">
                            git
                        </a>
                        
                        
                        
                        <a href="/tags/javascript" title="javascript">
                            javascript
                        </a>
                        
                        
                        
                        <a href="/tags/math" title="math">
                            math
                        </a>
                        
                        
                        
                        <a href="/tags/python" title="python">
                            python
                        </a>
                        
                        
                        
                        <a href="/tags/selenium" title="selenium">
                            selenium
                        </a>
                        
                        
                        
                        <a href="/tags/vue" title="vue">
                            vue
                        </a>
                        
                        
                    </div>
                </section>
                

            </div>
        </div>
    </div>
</article>



<button class="zs show-zs btn btn-bred">
	<img width="50" height="50" src="/element/coffee_cup_drink_icon.png"/>
</button>
<div class="zs-modal-bg"></div>
<div class="zs-modal-box">
	<div class="zs-modal-head">
		<button type="button" class="close">×</button>
		<span class="author"><a href="https://zhaohuabing.com"><img src="/img/favicon.png" />MonsterYU Blog</a></span>
        
	        <p class="tip"><i></i><span>真诚赞赏，手留余香</span></p>
		
 
	</div>
	<div class="zs-modal-body">
		<div class="zs-modal-btns">
			<button class="btn btn-blink" data-num="2">2元</button>
			<button class="btn btn-blink" data-num="5">5元</button>
			<button class="btn btn-blink" data-num="10">10元</button>
			<button class="btn btn-blink" data-num="50">50元</button>
			<button class="btn btn-blink" data-num="100">100元</button>
			<button class="btn btn-blink" data-num="1">任意金额</button>
		</div>
		<div class="zs-modal-pay">
			<button class="btn btn-bred" id="pay-text">2元</button>
			<p>使用<span id="pay-type">微信</span>扫描二维码完成支付</p>
			<img src="/img/reward/wechat-2.png"  id="pay-image"/>
		</div>
	</div>
	<div class="zs-modal-footer">
		<label><input type="radio" name="zs-type" value="wechat" class="zs-type" checked="checked"><span ><span class="zs-wechat"><img src="/img/reward/wechat-btn.png"/></span></label>
		<label><input type="radio" name="zs-type" value="alipay" class="zs-type" class="zs-alipay"><img src="/img/reward/alipay-btn.png"/></span></label>
	</div>
</div>
<script type="text/javascript" src="/js/reward.js"></script>

<button class="zs move-top btn btn-moveTop">
    <img width="50" height="50" src="/element/arrow_circle_up_icon.png"/>
</button>


<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">                  
                    
                    <li>
                        <a href="mailto:marvelo.k0515@gmail.com">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		           
                    
                    <li>
                        <a target="_blank" href="https://www.facebook.com/profile.php?id=100009946749327">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		           

                    
                    <li>
                        <a target="_blank" href="https://github.com/Kevin051596">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		            
                    
                    <li>
                        <a target="_blank" href="https://www.instagram.com/yukai8765/">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-instagram fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		           
                   
                    <li>
                        <a target="_blank" href="https://discordapp.com/users/640102516738097163">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-discord fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		           
                </ul>
		        <p class="copyright text-muted">
                    Copyright &copy; MonsterYU Blog 2023
                    <br>
                    | <a href="https://themes.gohugo.io/hugo-theme-cleanwhite">Refer to CleanWhite Hugo Theme</a> |
                </p>
            </div>
        </div>
    </div>
</footer>




<script>
    function loadAsync(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>






<script>
    
    if($('#tag_cloud').length !== 0){
        loadAsync("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>


<script>
    loadAsync("https://cdn.jsdelivr.net/npm/fastclick@1.0.6/lib/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>






<script type="text/javascript">
    function generateCatalog(selector) {

        
        
        
        
            _containerSelector = 'div.post-container'
        

        
        var P = $(_containerSelector), a, n, t, l, i, c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        
        $(selector).html('')

        
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    
    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    


</script>






</body>
</html>

<script type="text/javascript" src="/js/moveTop.js"></script>
<script>
$(window).scroll(function(){
     
    const px = $(window).height();
    var view = ($(window).height() + $(window).scrollTop()) / $(document).height() * 100 + 'vw'
    $(".view-bar").width(view)
    if (document.body.scrollTop > px || document.documentElement.scrollTop > px) {
        $(".view-bar").addClass("action")
        $(".view-bar").removeClass("default")
    } else {
        $(".view-bar").removeClass("action")
        $(".view-bar").addClass("default")
    }
});
</script>